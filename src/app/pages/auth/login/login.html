<div
  class="max-w-md mx-auto mt-10 p-6 rounded md:bg-base-200 md:shadow animate-fade-in duration-200"
>
  <h2 class="text-2xl font-semibold mb-4">
    {{ "auth.login.title" | translate }}
  </h2>
  @if(loginForm){
  <form [formGroup]="loginForm" (ngSubmit)="register()">
    <div class="mb-2 mt-2">
      <app-text-input
        formControlName="email"
        [label]="'auth.register.email' | translate"
        type="email"
      />
      @if(loginForm.get('email')?.touched &&
      loginForm.get('email')?.hasError('email')) {

      <div class="animate-fade-in duration-100">
        <span class="label-text-alt text-error">
          {{ "validation.email" | translate }}</span
        >
      </div>
      }
    </div>
    <div class="mb-2 mt-2">
      <app-text-input
        formControlName="password"
        [label]="'auth.register.password' | translate"
        type="password"
      />
    </div>
    <div class="mt-3 flex items-center space-x-2">
      <input
        id="isPersistent"
        type="checkbox"
        formControlName="isPersistent"
        class="checkbox checkbox-primary"
      />
      <label for="isPersistent" class="cursor-pointer select-none">
        {{ "auth.login.rememberMe" | translate }}
      </label>
    </div>
    @if(errorMessages()){
    <div class="mt-3 text-red-700">
      @for (error of errorMessages(); track $index) {
      <div>{{ error | translate }}</div>
      }
    </div>
    }

    <button
      type="submit"
      class="w-full mt-4 btn btn-primary"
      [disabled]="loginForm.invalid || loading()"
    >
      @switch (loading()) { @case(true){
      <span class="loading loading-dots loading-lg"></span>
      }@case (false) {
      <span>{{ "auth.login.submit" | translate }}</span>
      } }
    </button>
  </form>
  }
</div>
